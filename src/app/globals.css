@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================================================
   Print Stylesheet
   Purpose: Produce clean, professional PDFs via browser print-to-PDF
   for ag lending officers and bank presentations.
   ============================================================================= */

@media print {
  /* --- Page Setup --- */
  @page {
    margin: 0.75in 0.5in;
    size: letter;

    /* Print footer — limited browser support for margin boxes,
       but Chrome/Edge will render when available */
    @bottom-center {
      content: "Pierce Land & Cattle";
      font-size: 8pt;
      color: #9ca3af;
    }
  }

  body {
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
    color: #1a1a1a;
    font-size: 11pt;
    line-height: 1.4;
    orphans: 3;
    widows: 3;
  }

  /* --- Element Visibility --- */
  .no-print {
    display: none !important;
  }

  /* --- Page Breaks --- */
  .print-break-before {
    page-break-before: always;
  }

  .print-no-break {
    page-break-inside: avoid;
  }

  /* --- Visual Cleanup --- */
  * {
    box-shadow: none !important;
  }

  /* --- Chart Handling --- */
  canvas {
    max-width: 100%;
    height: auto !important;
  }

  /* Chart wrapper divs — prevent splitting across pages */
  .print-no-break canvas {
    max-width: 100%;
    height: auto !important;
  }

  /* --- Print Spacing Compression (Phase 10) --- */

  /* Cover header: reduce py-14 (3.5rem) to ~2rem */
  .w-full.bg-primary {
    padding-top: 2rem !important;
    padding-bottom: 2rem !important;
  }

  /* Cover divider: reduce my-6 (1.5rem) to ~0.75rem */
  .w-full.bg-primary .border-t {
    margin-top: 0.75rem !important;
    margin-bottom: 0.75rem !important;
  }

  /* Section spacing: compress space-y-12 (3rem) to ~1.5rem */
  .space-y-12 > * + * {
    margin-top: 1.5rem !important;
  }

  /* Heading-to-content gap: reduce mt-6 (1.5rem) to ~0.75rem */
  section > .mt-6,
  h2 + .mt-6,
  h2 + .print-no-break.mt-6 {
    margin-top: 0.75rem !important;
  }

  /* Card padding: reduce p-6 (1.5rem) to ~1rem */
  section .p-6 {
    padding: 1rem !important;
  }

  /* KPI row: reduce gap-4 (1rem) to 0.5rem */
  .print-no-break.grid.gap-4 {
    gap: 0.5rem !important;
  }

  /* KPI card padding: tighter for print */
  .print-no-break.grid .p-4 {
    padding: 0.5rem 0.75rem !important;
  }

  /* Table cell padding: reduce py-3 to py-2 for denser rows */
  table th,
  table td {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }

  /* TableRow divs: reduce py-2.5 to ~py-1.5 */
  .flex.justify-between.py-2\.5,
  .flex.justify-between.py-2,
  .flex.justify-between.py-3 {
    padding-top: 0.375rem !important;
    padding-bottom: 0.375rem !important;
  }

  /* Heading orphan prevention: keep h2 with following content */
  h2 {
    break-after: avoid;
    page-break-after: avoid;
  }

  /* Section elements: avoid breaking after headings */
  section {
    break-inside: auto;
  }

  /* Disclaimer spacing: reduce mt-12 to mt-6 */
  .mt-12 {
    margin-top: 1.5rem !important;
  }

  /* --- Print Visual Refinements (Phase 10) --- */

  /* Border strengthening: gray-100 (#f3f4f6) is invisible on paper,
     promote to gray-300 (#d1d5db) for visible card/section borders */
  .border-gray-100 {
    border-color: #d1d5db !important;
  }

  /* Ensure border-l-4 accent borders render with color preservation */
  .border-l-4 {
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
  }

  /* LOC utilization bar: ensure background colors render on progress bar */
  .bg-gray-200.rounded-full,
  .rounded-full[class*="bg-"] {
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
  }

  /* Zebra striping: strengthen bg-gray-50 (#f9fafb) to more visible
     shade (#f0f0f0) so alternating rows are distinguishable on paper */
  .even\:bg-gray-50:nth-child(even),
  .bg-gray-50\/50 {
    background-color: #f0f0f0 !important;
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
  }

  /* Accent highlight rows: strengthen bg-accent/10 for print visibility */
  .bg-accent\/10 {
    background-color: rgba(var(--color-accent), 0.18) !important;
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
  }

  /* Print link cleanup: prevent unexpected underlines */
  a {
    text-decoration: none !important;
  }

  /* KPI ring treatment: Tailwind ring-* uses --tw-ring-shadow (a box-shadow),
     already cleared by * { box-shadow: none }. Also clear outline for safety. */
  .ring-1,
  .ring-accent\/20,
  [class*="ring-"] {
    --tw-ring-shadow: 0 0 #0000 !important;
    outline: none !important;
  }

  /* --- Typography --- */
  h1 {
    font-size: 18pt;
  }

  h2 {
    font-size: 15pt;
  }

  h3 {
    font-size: 13pt;
  }

  h4 {
    font-size: 12pt;
  }
}
