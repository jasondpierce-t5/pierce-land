---
phase: 10-print-pdf-polish
plan: 01
type: execute
depends_on: []
files_modified: [src/app/globals.css, src/app/plan/[slug]/page.tsx]
---

<objective>
Polish the print stylesheet so browser print-to-PDF produces tighter, more professional banker-ready output that reflects Phase 9's design improvements without inheriting screen-optimized spacing.

Purpose: Phase 9 added generous screen spacing (space-y-12, py-14) and subtle borders (border-gray-100) that improve on-screen readability but create excessive whitespace and near-invisible borders in print. This plan adds print-specific overrides to compress layout and strengthen visual elements for PDF output.
Output: Updated print stylesheet and print-specific Tailwind classes producing compact, polished PDF.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior phase context (Phase 9 directly affects print output):
@.planning/phases/09-public-page-design-polish/09-01-SUMMARY.md
@.planning/phases/09-public-page-design-polish/09-02-SUMMARY.md
@.planning/phases/08-print-deployment/08-01-SUMMARY.md

# Key source files:
@src/app/globals.css
@src/app/plan/[slug]/page.tsx
@src/components/PrintButton.tsx

**Established patterns:**
- print-break-before: forced page break before Spring Turn and Scenario Analysis only
- print-no-break: prevent break inside compact elements (KPI row, charts, cards)
- no-print: hide interactive elements (PrintButton)
- box-shadow: none !important in print
- print-color-adjust: exact for background colors

**Constraining decisions:**
- Phase 8: "Minimal forced page breaks — only Spring Turn and Scenario Analysis get print-break-before"
- Phase 8: "Spring/Winter turn tables flow naturally across pages (too tall for print-no-break)"
- Phase 9: "border border-gray-100 for subtle card definition" (needs strengthening for print)
- Phase 9: "space-y-12 for section rhythm, mt-6 for heading-to-content gap" (too generous for print)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Compress print spacing and layout</name>
  <files>src/app/globals.css</files>
  <action>
Add print-specific CSS overrides inside the existing `@media print` block in globals.css to compress generous screen spacing for tighter PDF output:

**Cover header:**
- Target `.w-full.bg-primary` (the cover div): reduce vertical padding from py-14 (3.5rem) to ~py-8 equivalent (2rem) in print
- Reduce the cover divider margin (my-6 → my-3 in print)

**Section spacing:**
- Target the main content container `.space-y-12` equivalent: override `> * + *` margin-top from 3rem to ~1.5rem in print
- Target section heading-to-content gap `.mt-6`: reduce to ~0.75rem in print

**Card/element padding:**
- Target card containers (`.p-6` pattern inside the plan page): reduce to ~1rem padding in print
- Target KPI row gap-4: reduce gap in print

**Table padding:**
- Reduce table cell padding (py-3 → py-2) in print for denser data presentation

**Heading orphan prevention:**
- Add `break-after: avoid` to h2 elements so section headings don't appear alone at page bottom

**Print footer:**
- Add `@bottom-center` content to `@page` rule with "Pierce Land & Cattle" if supported, or add a print-only footer element

**Important:** All changes go inside the existing `@media print { }` block. Do NOT modify screen styles. Use specificity-appropriate selectors. Since the page uses Tailwind utility classes, target the computed properties rather than class names where possible — BUT for layout-specific overrides that only apply to the plan page, use the existing element structure (e.g., section > div, the main container's child spacing).
  </action>
  <verify>
Run `npx next build` to verify no CSS syntax errors. Visually inspect globals.css to confirm all new rules are inside @media print block.
  </verify>
  <done>
Print stylesheet has spacing compression rules: cover padding reduced, section gaps halved, card padding tightened, table cells denser, heading orphan prevention added. All changes print-only — screen layout unchanged.
  </done>
</task>

<task type="auto">
  <name>Task 2: Strengthen print borders and refine visual elements</name>
  <files>src/app/globals.css</files>
  <action>
Add print-specific visual refinements inside the existing `@media print` block:

**Border strengthening:**
- Override `border-gray-100` to `border-gray-300` equivalent in print (border-color: #d1d5db) — Phase 9's subtle gray-100 borders are near-invisible on many printers
- Ensure card border-l-4 accent borders render (they should with print-color-adjust: exact, but verify)

**LOC utilization bar:**
- Ensure the progress bar background colors render in print (the colored fill div)
- The bg-gray-200 track and colored fill should be visible with print-color-adjust: exact

**Zebra striping contrast:**
- Strengthen even-row bg-gray-50 to a slightly more visible shade in print (#f0f0f0) so alternating rows are distinguishable on paper

**Accent highlight rows in sensitivity tables:**
- Ensure the bg-accent/10 current-config highlight rows are visible in print (may need slightly stronger background)

**Print link cleanup:**
- Add `a { text-decoration: none; }` in print to prevent any unexpected underlines

**KPI ring treatment:**
- The hero KPI's ring-1 ring-accent/20 from Phase 9 is already removed by box-shadow: none, but ring is actually an outline — ensure it either renders or is cleanly removed in print

**Important:** Keep it minimal. Only strengthen what's actually needed for print legibility. Do NOT redesign the visual style — just ensure screen elements translate cleanly to paper.
  </action>
  <verify>
Run `npx next build` to confirm no CSS errors. Review the @media print block to confirm all rules are print-only and don't affect screen.
  </verify>
  <done>
Print borders strengthened from gray-100 to gray-300, zebra stripe contrast increased, accent highlights preserved, ring treatment handled, link decoration cleaned up. Screen styles unchanged.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Print stylesheet polish with compressed spacing and strengthened visual elements for PDF output</what-built>
  <how-to-verify>
    1. Run: `npm run dev`
    2. Visit any plan page (e.g., http://localhost:3000/plan/cameron)
    3. Verify SCREEN view is unchanged — same generous spacing, subtle borders, no visual regression
    4. Open browser Print Preview (Ctrl+P or Cmd+P)
    5. Check PDF output for:
       - Cover header: slightly tighter padding than before, still looks good
       - Section gaps: noticeably tighter than screen, sections flow more compactly
       - Card padding: denser content, less whitespace inside cards
       - Table rows: comfortable but tighter padding
       - Card borders: clearly visible on white background (not invisible gray-100)
       - Zebra striping: alternating rows distinguishable
       - Section headings: none orphaned alone at page bottom
       - Overall: fewer total pages than before for same content, professional and dense
    6. Compare total page count to previous print output if possible
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npx next build` succeeds without errors
- [ ] Screen view unchanged (no visual regression from Phase 9 polish)
- [ ] Print output has tighter spacing than screen
- [ ] Print borders are visible on white background
- [ ] No heading orphans in print output
- [ ] Human approved print output quality
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Screen layout unchanged
- Print PDF output is tighter, borders visible, professional quality
- Human verified and approved print output
- Phase 10 complete
  </success_criteria>

<output>
After completion, create `.planning/phases/10-print-pdf-polish/10-01-SUMMARY.md`
</output>
