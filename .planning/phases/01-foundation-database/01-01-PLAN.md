---
phase: 01-foundation-database
plan: 01
type: execute
depends_on: []
files_modified: [package.json, .env.local, next.config.js, tailwind.config.ts, tsconfig.json, src/lib/supabase.ts, src/app/layout.tsx, src/app/page.tsx]
domain: next-js
---

<objective>
Initialize Next.js 14 project with TypeScript, Tailwind CSS, and Supabase client configured.

Purpose: Establish the foundational project structure and database connection for the business plan application.
Output: Working Next.js development environment with Supabase connected and ready for schema deployment.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Tech Stack (from PROJECT.md):**
- Next.js 14 (App Router)
- TypeScript
- Tailwind CSS
- Supabase
- Vercel (deployment target)

**Design Requirements:**
- Primary color: #1a3a2a
- Accent color: #c4872a
- Green accent: #3a7d53
- Font: Inter

**Database Structure (from PROJECT.md):**
- Two-table design: plan_config (shared data) + plan_versions (bank-specific overrides)
- Calculation precision required for auditability
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Next.js 14 project with TypeScript and Tailwind</name>
  <files>package.json, next.config.js, tailwind.config.ts, tsconfig.json, src/app/layout.tsx, src/app/page.tsx</files>
  <action>Run `npx create-next-app@latest . --typescript --tailwind --app --src-dir --no-import-alias` to initialize Next.js 14 with App Router, TypeScript, and Tailwind CSS in current directory. Accept defaults for ESLint. Configure Tailwind with the project's color palette (primary #1a3a2a, accent #c4872a, green #3a7d53) in tailwind.config.ts. Update layout.tsx to use Inter font from next/font/google. Remove default Next.js boilerplate from page.tsx and replace with a simple "Pierce Land & Cattle" heading to verify the setup works.</action>
  <verify>npm run dev starts successfully on localhost:3000, page displays custom heading with Inter font, no console errors</verify>
  <done>Next.js 14 project initialized with TypeScript, Tailwind configured with brand colors, Inter font loaded, dev server runs without errors</done>
</task>

<task type="auto">
  <name>Task 2: Create Supabase project and configure client</name>
  <files>.env.local, src/lib/supabase.ts</files>
  <action>Use Supabase CLI to create new project: `npx supabase init` to initialize local config, then `npx supabase login` (if not authenticated - this may require user to authenticate via browser), then create new project via `npx supabase projects create pierce-land-cattle --org-id [org-id] --db-password [generate-secure-password] --region us-central`. If CLI project creation fails due to org selection, instruct user to create project manually at supabase.com/dashboard and provide the project URL and anon key. Once project exists, install Supabase client: `npm install @supabase/supabase-js`. Create .env.local with NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY. Create src/lib/supabase.ts with createClient() using @supabase/supabase-js (not @supabase/ssr - that's for server components, we'll use the simpler client for now). DO NOT use deprecated createBrowserClient or createServerClient patterns from old docs.</action>
  <verify>Supabase project visible in dashboard, .env.local has correct keys, src/lib/supabase.ts exports working client</verify>
  <done>Supabase project created, environment variables configured, client initialized and ready to use</done>
</task>

<task type="auto">
  <name>Task 3: Verify Supabase connection</name>
  <files>src/app/page.tsx</files>
  <action>Update page.tsx to import supabase client and test connection with a simple query: `const { data, error } = await supabase.from('_supabase_migrations').select('version').limit(1)`. This tests connection without requiring custom tables. Display connection status on page ("Supabase: Connected" or error message). This is temporary scaffolding to verify setup - will be replaced in later phases.</action>
  <verify>npm run dev shows "Supabase: Connected" on homepage, no connection errors in console</verify>
  <done>Supabase connection verified, homepage displays connection status, ready for schema deployment</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run dev` starts without errors
- [ ] Homepage loads at localhost:3000
- [ ] Tailwind styles apply (brand colors available in config)
- [ ] Inter font loads correctly
- [ ] Supabase connection confirmed (connection test passes)
- [ ] No TypeScript errors
- [ ] .env.local exists with Supabase credentials (verify locally, do not commit)
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Next.js 14 project with App Router running
- TypeScript and Tailwind configured
- Supabase client connected
- No errors or warnings
- Ready for database schema deployment (Plan 01-02)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-database/01-01-SUMMARY.md`:

# Phase 1 Plan 01: Project Initialization Summary

**Next.js 14 project initialized with Supabase connected**

## Accomplishments

- Created Next.js 14 project with App Router, TypeScript, Tailwind CSS
- Configured Tailwind with brand colors (primary #1a3a2a, accent #c4872a, green #3a7d53)
- Set up Inter font via next/font/google
- Created Supabase project and configured client
- Verified database connection
- Environment variables configured

## Files Created/Modified

- `package.json` - Dependencies (Next.js, Tailwind, Supabase client)
- `next.config.js` - Next.js configuration
- `tailwind.config.ts` - Tailwind with brand colors
- `tsconfig.json` - TypeScript configuration
- `src/app/layout.tsx` - Root layout with Inter font
- `src/app/page.tsx` - Homepage with connection verification
- `src/lib/supabase.ts` - Supabase client setup
- `.env.local` - Supabase credentials (not committed)

## Decisions Made

[Document any deviations from plan or technical choices made during implementation]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Phase Readiness

**Ready for Plan 01-02**: Database schema deployment
- Supabase project created and connected
- Development environment confirmed working
- Ready to create plan_config and plan_versions tables
</output>
