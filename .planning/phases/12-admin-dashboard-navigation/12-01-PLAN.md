---
phase: 12-admin-dashboard-navigation
plan: 01
type: execute
depends_on: []
files_modified: [src/app/admin/page.tsx, src/app/admin/layout.tsx]
---

<objective>
Improve admin dashboard landing page with live summary data and add breadcrumb navigation to admin sub-pages for better wayfinding.

Purpose: Elevate the admin experience from a static welcome page to an informative hub with clear navigation context on every page.
Output: Dashboard with live version stats and quick links; breadcrumb trail on all admin sub-pages.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/11-admin-config-form-ux/11-01-SUMMARY.md

@src/app/admin/page.tsx
@src/app/admin/layout.tsx
@src/app/api/admin/versions/route.ts

**Tech stack available:** Next.js 14 (App Router), Tailwind CSS, Supabase
**Established patterns:** Client-side components with useState/useEffect, API route fetching, collapsible accordion sections, sticky action bars
**Constraining decisions:**
- Phase 11: Collapsible sections, sticky bars, CSS transitions for smooth UX
- All admin pages use 'use client' directive with API route fetching pattern
- Brand colors: primary (#1a3a2a), accent (#c4872a), green (#3a7d53)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Enhance dashboard with live summary stats and improved cards</name>
  <files>src/app/admin/page.tsx</files>
  <action>
Convert the static dashboard page into a data-driven hub:

1. Add 'use client' directive and useState/useEffect to fetch from GET /api/admin/versions on mount
2. Add a summary stats row at the top showing:
   - Active bank versions count (is_active === true)
   - Total bank versions count
   - Quick visual indicators (use colored dots or small icons via Unicode/SVG inline)
3. Improve the existing two feature cards:
   - Replace `<a>` tags with Next.js `<Link>` components for client-side navigation
   - Add a subtle hover scale transform for interactivity
   - Keep existing border-l-4 accent/green design
4. Add an "Active Versions" quick-links section below the feature cards:
   - List each active bank version with its name and a link to its public page (/plan/[slug])
   - Include an "Edit" link to /admin/versions/[id]/edit for each
   - Show "No active versions" message if none exist
5. Handle loading state with a simple skeleton/placeholder while fetching

Keep the existing welcome heading and description. Do NOT add new API endpoints — reuse GET /api/admin/versions which already returns all version data including is_active, bank_name, slug, and id fields.
  </action>
  <verify>Run `npm run build` — no TypeScript errors. Visit /admin in dev server — stats display, cards are clickable Link components, active versions list shows real data.</verify>
  <done>Dashboard shows live active/total version counts, cards use Link components with hover effects, active versions section lists real bank data with public and edit links.</done>
</task>

<task type="auto">
  <name>Task 2: Add breadcrumb navigation to admin layout</name>
  <files>src/app/admin/layout.tsx</files>
  <action>
Add a breadcrumb trail below the main navigation bar in the admin layout:

1. Create a Breadcrumb component inline within layout.tsx (no separate file needed — it's layout-specific)
2. Parse usePathname() to generate breadcrumb segments:
   - /admin → no breadcrumbs (dashboard is the root)
   - /admin/config → "Dashboard / Shared Config"
   - /admin/versions → "Dashboard / Bank Versions"
   - /admin/versions/new → "Dashboard / Bank Versions / New Version"
   - /admin/versions/[id]/edit → "Dashboard / Bank Versions / Edit Version"
3. Map path segments to human-readable labels:
   - "config" → "Shared Config"
   - "versions" → "Bank Versions"
   - "new" → "New Version"
   - "edit" → "Edit Version"
   - UUID segments (36-char strings) → skip display (they're IDs)
4. Each breadcrumb segment except the last should be a clickable Link
5. Use a subtle separator (/ or >) between segments
6. Style: small text (text-sm), muted color (text-gray-500), inside a bg-white border-b bar below the main nav
7. Only render the breadcrumb bar when pathname is NOT /admin (dashboard root needs no breadcrumbs)
8. Do NOT modify the existing nav links, logout button, or main content wrapper
  </action>
  <verify>Run `npm run build` — no TypeScript errors. Navigate to /admin/config — breadcrumb shows "Dashboard / Shared Config". Navigate to /admin/versions/new — breadcrumb shows "Dashboard / Bank Versions / New Version". Navigate to /admin — no breadcrumb bar visible.</verify>
  <done>Breadcrumb bar renders correctly on all admin sub-pages with clickable navigation links, hidden on dashboard root, UUID segments in version edit paths are skipped.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Enhanced admin dashboard with live version stats, improved navigation cards, active versions quick-links section, and breadcrumb navigation on all admin sub-pages</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Visit: http://localhost:3000/admin
    3. Verify: Dashboard shows active/total version counts at top
    4. Verify: Feature cards have hover effects and navigate correctly
    5. Verify: Active versions section lists real bank versions with public + edit links
    6. Verify: No breadcrumb bar on dashboard page
    7. Navigate to: /admin/config
    8. Verify: Breadcrumb shows "Dashboard / Shared Config" below nav
    9. Navigate to: /admin/versions
    10. Verify: Breadcrumb shows "Dashboard / Bank Versions"
    11. Click "Create New Bank Version" (or navigate to /admin/versions/new)
    12. Verify: Breadcrumb shows "Dashboard / Bank Versions / New Version"
    13. Navigate back via breadcrumb links — confirm they work
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] Dashboard shows live data fetched from API
- [ ] All navigation uses Link components (no raw `<a>` tags in dashboard)
- [ ] Breadcrumbs render correctly on all admin sub-pages
- [ ] Breadcrumbs hidden on dashboard root
- [ ] No console errors or warnings
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors or warnings introduced
- Dashboard displays live version statistics
- Breadcrumb navigation provides clear wayfinding on all admin sub-pages
- Phase 12 complete
  </success_criteria>

<output>
After completion, create `.planning/phases/12-admin-dashboard-navigation/12-01-SUMMARY.md`
</output>
